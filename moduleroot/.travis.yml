---
branches:
  only:
    - master
language: ruby
bundler_args: --without development
script: "bundle exec rake spec SPEC_OPTS='--format documentation'"
rvm:
<% for rvm in @configs['rvms'] -%>
  - <%= rvm %>
<% end -%>
env:
  matrix:
<% for puppet in @configs['puppets'] -%>
    - PUPPET_GEM_VERSION="~> <%= puppet %>"
<% end -%>
matrix:
  fast_finish: true
  exclude:
<% for exclude in @configs['excludes'] -%>
  - rvm: <%= exclude['rvm'] %>
    env: <%= exclude['env'] %>
<% end -%>
notifications:
  email: false
