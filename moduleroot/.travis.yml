---
branches:
  only:
    - master
language: ruby
bundler_args: --without development
script: <%= @configs['script'] %>
rvm:
<% @configs['rvms'].each do |rvm| -%>
  - <%= rvm %>
<% end -%>
env:
  matrix:
<% @configs['puppets'].each do |puppet| -%>
    - PUPPET_GEM_VERSION="~> <%= puppet %>"
<% end -%>
matrix:
  fast_finish: true
  exclude:
<% @configs['excludes'].each do |exclude| -%>
  - rvm: <%= exclude['rvm'] %>
    env: <%= exclude['env'] %>
<% end -%>
notifications:
  email: false
